
export type LanguageLevel = "A0" | "A1" | "A2" | "B1" | "B2" | "C1" | "C2";

export const ALL_LEVELS: LanguageLevel[] = ["A0", "A1", "A2", "B1", "B2", "C1", "C2"];

export type ModuleType = "vocabulary" | "grammar" | "listening" | "reading" | "writing" | "wordTest";

export const ALL_MODULE_TYPES: ModuleType[] = ["vocabulary", "grammar", "listening", "reading", "writing", "wordTest"];
export const MODULE_NAMES_RU: Record<ModuleType, string> = {
  vocabulary: "Лексика",
  grammar: "Грамматика",
  listening: "Аудирование",
  reading: "Чтение",
  writing: "Письмо",
  wordTest: "Тест по словам"
};

export interface VocabularyWord {
  id: string;
  german: string;
  russian: string;
  topic: string; // topicId
  level: LanguageLevel;
  consecutiveCorrectAnswers: number;
  lastTestedDate?: string; // ISO date string
  errorCount: number;
  exampleSentence?: string; // Optional, can be generated by AI
}

export interface ModuleProgress {
  score: number | null; // Percentage
  completed: boolean;
  lastAttemptDate?: string; // ISO date string
  attempts: number;
}

export interface TopicProgress {
  id: string; // e.g., "greetings"
  name: string; // e.g., "Приветствия"
  modules: Partial<Record<ModuleType, ModuleProgress>>;
  completed: boolean;
  custom?: boolean; // True if user-defined topic
}

export interface LevelProgress {
  topics: Record<string, TopicProgress>; // Keyed by topic ID
  completed: boolean;
}

export interface UserProfile {
  name?: string;
  preferredTopics?: string[];
}

export interface UserSettings {
  notificationsEnabled: boolean;
  lastActivityTimestamp?: number; // Unix timestamp
  darkMode?: boolean;
}

export interface GrammarWeaknessContext {
  level: LanguageLevel;
  topicId: string;
  topicName: string;
  moduleId?: ModuleType;
}

export interface GrammarWeaknessDetail {
  tag: string;
  count: number;
  lastEncounteredDate: string;
  exampleContexts: GrammarWeaknessContext[];
}

export interface UserData {
  currentLevel: LanguageLevel;
  currentTopicId?: string;
  profile: UserProfile;
  progress: Partial<Record<LanguageLevel, LevelProgress>>;
  vocabularyBank: VocabularyWord[];
  settings: UserSettings;
  customTopics: TopicProgress[];
  grammarWeaknesses?: Record<string, GrammarWeaknessDetail>;
}

// --- AI Generated Content Types (matches flows) ---

export interface AILessonVocabularyItem {
  german: string;
  russian: string;
  exampleSentence?: string;
}

// --- Grammar Exercise Types ---
export interface AIFillInTheBlanksQuestion {
  promptText: string;
  correctAnswers: string[];
  explanation?: string;
}

export interface AIFillInTheBlanksExercise {
  type: "fillInTheBlanks";
  instructions: string;
  questions: AIFillInTheBlanksQuestion[];
}

export interface AIMultipleChoiceQuestion {
  questionText: string;
  options: string[];
  correctAnswer: string;
  explanation?: string;
}

export interface AIMultipleChoiceExercise {
  type: "multipleChoice";
  instructions: string;
  questions: AIMultipleChoiceQuestion[];
}

export interface AISentenceConstructionTask {
  words: string[];
  possibleCorrectSentences: string[];
  explanation?: string;
}

export interface AISentenceConstructionExercise {
  type: "sentenceConstruction";
  instructions: string;
  tasks: AISentenceConstructionTask[];
}

export type AIGrammarExercise =
  | AIFillInTheBlanksExercise
  | AIMultipleChoiceExercise
  | AISentenceConstructionExercise;

// --- Standard Listening ---
export interface AILessonListeningExercise {
  script: string;
  questions: string[]; // Open-ended questions
}

// --- Interactive Vocabulary Exercise Types ---
export interface AIMatchingPair {
  german: string;
  russian: string;
}
export interface AIMatchingExercise {
  type: "matching";
  instructions: string;
  pairs: AIMatchingPair[];
  germanDistractors?: string[];
  russianDistractors?: string[];
}

export interface AIAudioQuizItem {
  germanPhraseToSpeak: string;
  options: string[]; // Russian translations
  correctAnswer: string; // One of the options
  explanation?: string;
}
export interface AIAudioQuizExercise {
  type: "audioQuiz";
  instructions: string;
  items: AIAudioQuizItem[];
}

// --- Common Interactive Exercise Types for Listening/Reading ---
export interface AIComprehensionMQ_Question {
  questionText: string;
  options: string[];
  correctAnswer: string;
  explanation?: string;
}
export interface AIComprehensionMultipleChoiceExercise {
  type: "comprehensionMultipleChoice";
  instructions: string;
  questions: AIComprehensionMQ_Question[];
}

export interface AITrueFalseStatement {
  statement: string;
  isTrue: boolean;
  explanation?: string;
}
export interface AITrueFalseExercise {
  type: "trueFalse";
  instructions: string;
  statements: AITrueFalseStatement[];
}

export interface AISequencingExercise {
  type: "sequencing";
  instructions: string;
  shuffledItems: string[];
  correctOrder: string[];
}

// --- Main Lesson Content Structure ---
export interface AILessonContent {
  lessonTitle: string;
  vocabulary: AILessonVocabularyItem[];
  grammarExplanation: string;

  grammarFillInTheBlanks?: AIFillInTheBlanksExercise;
  grammarMultipleChoice?: AIMultipleChoiceExercise;
  grammarSentenceConstruction?: AISentenceConstructionExercise;

  listeningExercise: AILessonListeningExercise;
  readingPassage: string;
  readingQuestions: string[];
  writingPrompt: string;

  interactiveMatchingExercise?: AIMatchingExercise;
  interactiveAudioQuizExercise?: AIAudioQuizExercise;

  interactiveListeningMCQ?: AIComprehensionMultipleChoiceExercise;
  interactiveListeningTrueFalse?: AITrueFalseExercise;
  interactiveListeningSequencing?: AISequencingExercise;

  interactiveReadingMCQ?: AIComprehensionMultipleChoiceExercise;
  interactiveReadingTrueFalse?: AITrueFalseExercise;
  interactiveReadingSequencing?: AISequencingExercise;
}

export interface WritingEvaluationDetails {
  taskAchievement?: string; // Оценка выполнения задания. ДОЛЖНО БЫТЬ НА РУССКОМ, ОЧЕНЬ КРАТКО
  coherenceAndCohesion?: string; // Оценка связности и логичности текста. ДОЛЖНО БЫТЬ НА РУССКОМ, КРАТКО
  lexicalResource?: string; // Оценка использования лексики. ДОЛЖНО БЫТЬ НА РУССКОМ, КРАТКО
  grammaticalAccuracy?: string; // Оценка грамматической правильности. ДОЛЖНО БЫТЬ НА РУССКОМ, КРАТКО
  overallFeedback: string; // Общее заключение и ключевые рекомендации. ДОЛЖНО БЫТЬ НА РУССКОМ, 1-2 ПРЕДЛОЖЕНИЯ
  suggestedImprovements?: string[]; // Конкретные предложения по улучшению. НА РУССКОМ
}

export interface ErrorExplanation {
  generalExplanation: string; // Общее объяснение типа ошибки на русском языке. Должно быть четким и по существу.
  specificExample?: string; // Конкретный пример из ответа пользователя, ВЫДЕЛЯЮЩИЙ ошибку (если применимо и если ошибка не во всем ответе).
  correctionExample?: string; // Пример исправления для ОШИБОЧНОГО ФРАГМЕНТА ответа пользователя (если применимо), а не полный правильный ответ. Полный ответ указывается в поле 'suggestedCorrection'.
  theoryReference?: string; // Краткое упоминание соответствующего грамматического правила или лексического нюанса на русском языке (если применимо, например, 'Предлог 'mit' требует Dativ').
}


export interface AIEvaluationResult {
  evaluation: string; // Краткий общий вывод на русском языке. Для письма это будет writingDetails.overallFeedback. Для других модулей – основная мысль оценки (например, "Верно!" или "Не совсем точно, есть ошибка в употреблении слова").
  isCorrect: boolean; // Whether the user response is correct or not. For writing, true if the text is generally understandable and addresses the prompt adequately for the level.
  suggestedCorrection?: string; // ПОЛНЫЙ предлагаемый правильный ответ на русском языке, если ответ пользователя был коротким и неверным, или ключевые исправления. Для письма это может быть исправленная версия текста.
  grammarErrorTags?: string[]; // Specific grammar points the user made errors on (e.g., "akkusativ_prepositions", "verb_conjugation_modal").
  writingDetails?: WritingEvaluationDetails;
  errorExplanationDetails?: ErrorExplanation;
}


export interface AIRecommendedLesson {
  topic: string;
  modules: string[];
  reasoning: string;
}

export interface DefaultTopicDefinition {
  id: string;
  name: string;
  /**
   * Optional list of vocabulary items for this topic.
   * If provided, the AI will be instructed to primarily use these words
   * for the lesson's vocabulary section, generating example sentences if needed,
   * and supplementing the list to reach 14-20 items if this list is shorter.
   * If not provided, AI generates vocabulary based on the topic name and level.
   */
  fallbackVocabulary?: AILessonVocabularyItem[];
}

// Default Topics (Considered "Mandatory Lexical Topics")
export const DEFAULT_TOPICS: Record<LanguageLevel, DefaultTopicDefinition[]> = {
  A0: [
    { id: "a0_alphabet_pronunciation", name: "Алфавит, произношение, буквы", fallbackVocabulary: [] },
    {
      id: "a0_greetings_farewells",
      name: "Приветствие и прощание",
      fallbackVocabulary: [
        { german: "Hallo", russian: "Привет" },
        { german: "Tschüss", russian: "Пока" },
        { german: "Guten Morgen", russian: "Доброе утро" },
        { german: "Guten Tag", russian: "Добрый день" },
        { german: "Guten Abend", russian: "Добрый вечер" },
        { german: "Gute Nacht", russian: "Спокойной ночи" },
        { german: "Wie geht's?", russian: "Как дела?" },
      ],
    },
    {
      id: "a0_politeness_basics",
      name: "Простые фразы вежливости и ответы",
      fallbackVocabulary: [
        { german: "Bitte", russian: "Пожалуйста" },
        { german: "Danke", russian: "Спасибо" },
        { german: "ja", russian: "Да" },
        { german: "nein", russian: "Нет" },
        { german: "Entschuldigung", russian: "Извините" },
        { german: "Verzeihung", russian: "Простите (более формально)" },
      ],
    },
    {
      id: "a0_numbers_0_100",
      name: "Числа (0–100)",
      fallbackVocabulary: [
        { german: "eins", russian: "Один" },
        { german: "zwei", russian: "Два" },
        { german: "drei", russian: "Три" },
        { german: "vier", russian: "Четыре" },
        { german: "fünf", russian: "Пять" },
        { german: "sechs", russian: "Шесть" },
        { german: "sieben", russian: "Семь" },
        { german: "acht", russian: "Восемь" },
        { german: "neun", russian: "Девять" },
        { german: "zehn", russian: "Десять" },
        // Остальные числа до 100 AI может догенерировать или они могут быть частью упражнений
      ],
    },
    {
      id: "a0_colors",
      name: "Цвета",
      fallbackVocabulary: [
        { german: "Rot", russian: "Красный" },
        { german: "Blau", russian: "Синий" },
        { german: "Grün", russian: "Зелёный" },
        { german: "Gelb", russian: "Жёлтый" },
        { german: "Schwarz", russian: "Чёрный" },
        { german: "Weiß", russian: "Белый" },
        { german: "Braun", russian: "Коричневый" },
        { german: "Grau", russian: "Серый" },
      ],
    },
    {
      id: "a0_interrogative_words",
      name: "Вопросительные слова",
      fallbackVocabulary: [
        { german: "wer", russian: "Кто" },
        { german: "was", russian: "Что" },
        { german: "wo", russian: "Где" },
        { german: "wann", russian: "Когда" },
        { german: "warum", russian: "Почему" },
        { german: "wie", russian: "Как" },
      ],
    },
    {
      id: "a0_personal_info",
      name: "Личные данные и люди",
      fallbackVocabulary: [
        { german: "Ich", russian: "Я" },
        { german: "Du", russian: "Ты" },
        { german: "Er", russian: "Он" },
        { german: "Sie", russian: "Она / Они / Вы (вежл.)" }, // Она (по умолчанию), но AI может уточнить
        { german: "Es", russian: "Оно" },
        { german: "Wir", russian: "Мы" },
        { german: "Ihr", russian: "Вы (мн.ч.)" },
        { german: "Name", russian: "Имя" },
        { german: "Alter", russian: "Возраст" },
        { german: "Adresse", russian: "Адрес" },
        { german: "Telefonnummer", russian: "Номер телефона" },
        { german: "Mann", russian: "Мужчина / Муж" },
        { german: "Frau", russian: "Женщина / Жена" },
        { german: "Freund", russian: "Друг" },
        { german: "Freundin", russian: "Подруга" },
        { german: "Lehrer", russian: "Учитель" },
        { german: "Schüler", russian: "Ученик" },
      ],
    },
     {
      id: "a0_family",
      name: "Семья",
      fallbackVocabulary: [
        { german: "Mutter", russian: "Мать" },
        { german: "Vater", russian: "Отец" },
        { german: "Eltern", russian: "Родители" },
        { german: "Bruder", russian: "Брат" },
        { german: "Schwester", russian: "Сестра" },
        { german: "Kind", russian: "Ребёнок" },
        { german: "Familie", russian: "Семья" },
      ],
    },
    {
      id: "a0_home_living",
      name: "Дом и жильё",
      fallbackVocabulary: [
        { german: "Haus", russian: "Дом" },
        { german: "Wohnung", russian: "Квартира" },
        { german: "Zimmer", russian: "Комната" },
        { german: "Küche", russian: "Кухня" },
        { german: "Bad", russian: "Ванная" },
        { german: "Schlafzimmer", russian: "Спальня" },
        { german: "Bett", russian: "Кровать" },
        { german: "Tisch", russian: "Стол" },
        { german: "Stuhl", russian: "Стул" },
        { german: "Tür", russian: "Дверь" },
        { german: "Fenster", russian: "Окно" },
        { german: "Auto", russian: "Машина" },
        { german: "Buch", russian: "Книга" },
      ],
    },
    {
      id: "a0_shopping_stores",
      name: "Покупки и магазины",
      fallbackVocabulary: [
        { german: "Supermarkt", russian: "Супермаркет" },
        { german: "Bäckerei", russian: "Пекарня" },
        { german: "Preis", russian: "Цена" },
        { german: "Euro", russian: "Евро" },
        { german: "Cent", russian: "Цент" },
        { german: "Kasse", russian: "Касса" },
        { german: "Einkaufen", russian: "Делать покупки" },
      ],
    },
    {
      id: "a0_food_drinks",
      name: "Еда и напитки",
      fallbackVocabulary: [
        { german: "Wasser", russian: "Вода" },
        { german: "Brot", russian: "Хлеб" },
        { german: "Milch", russian: "Молоко" },
        { german: "Käse", russian: "Сыр" },
        { german: "Apfel", russian: "Яблоко" },
        { german: "Banane", russian: "Банан" },
        { german: "Fleisch", russian: "Мясо" },
        { german: "Fisch", russian: "Рыба" },
        { german: "essen", russian: "Есть (кушать)"},
        { german: "trinken", russian: "Пить"},
        { german: "Frühstück", russian: "Завтрак" },
        { german: "Mittagessen", russian: "Обед" },
        { german: "Abendessen", russian: "Ужин" },
      ],
    },
    {
      id: "a0_time_calendar",
      name: "Время и календарь",
      fallbackVocabulary: [
        { german: "Uhr", russian: "Часы / Час (время)" },
        { german: "Minute", russian: "Минута" },
        { german: "Stunde", russian: "Час (продолжительность)" },
        { german: "Tag", russian: "День" },
        { german: "Nacht", russian: "Ночь" },
        { german: "Morgen", russian: "Утро" },
        { german: "Abend", russian: "Вечер" },
        { german: "Woche", russian: "Неделя" },
        { german: "Monat", russian: "Месяц" },
        { german: "Jahr", russian: "Год" },
        { german: "Montag", russian: "Понедельник" },
        { german: "Dienstag", russian: "Вторник" },
        { german: "Mittwoch", russian: "Среда" },
        { german: "Donnerstag", russian: "Четверг" },
        { german: "Freitag", russian: "Пятница" },
        { german: "Samstag", russian: "Суббота" },
        { german: "Sonntag", russian: "Воскресенье" },
        { german: "Zeit", russian: "Время" },
        { german: "jetzt", russian: "Сейчас" },
        { german: "heute", russian: "Сегодня" },
        { german: "gestern", russian: "Вчера" },
        { german: "morgen", russian: "Завтра" },
      ],
    },
    {
      id: "a0_action_verbs",
      name: "Основные глаголы",
      fallbackVocabulary: [
        { german: "sein", russian: "Быть" },
        { german: "haben", russian: "Иметь" },
        { german: "gehen", russian: "Идти" },
        { german: "kommen", russian: "Приходить" },
        { german: "machen", russian: "Делать" },
        { german: "sprechen", russian: "Говорить" },
        { german: "lesen", russian: "Читать" },
        { german: "schreiben", russian: "Писать" },
        { german: "laufen", russian: "Бежать / Ходить (пешком)" },
        { german: "springen", russian: "Прыгать" },
        { german: "schlafen", russian: "Спать" },
        { german: "sitzen", russian: "Сидеть" },
        { german: "stehen", russian: "Стоять" },
        { german: "sehen", russian: "Видеть / Смотреть" },
        { german: "hören", russian: "Слышать / Слушать" },
        { german: "geben", russian: "Давать" },
        { german: "nehmen", russian: "Брать" },
        { german: "fahren", russian: "Ехать / Ездить" },
        { german: "reisen", russian: "Путешествовать" },
        { german: "arbeiten", russian: "Работать" },
        { german: "spielen", russian: "Играть" },
        { german: "lernen", russian: "Учить / Учиться" },
        { german: "kennen", russian: "Знать (кого-то/что-то)" },
        { german: "verstehen", russian: "Понимать" },
        { german: "warten", russian: "Ждать" },
        { german: "helfen", russian: "Помогать" },
        { german: "brauchen", russian: "Нуждаться" },
        { german: "lieben", russian: "Любить" },
        { german: "mögen", russian: "Нравиться / Любить (менее интенсивно)" },
        { german: "sagen", russian: "Говорить / Сказать" },
        { german: "fragen", russian: "Спрашивать" },
      ],
    },
    {
      id: "a0_articles_determiners",
      name: "Артикли и определители",
      fallbackVocabulary: [
        { german: "der", russian: "Определенный артикль (муж.р.)" },
        { german: "die", russian: "Определенный артикль (жен.р., мн.ч.)" },
        { german: "das", russian: "Определенный артикль (ср.р.)" },
        { german: "ein", russian: "Неопределенный артикль (муж.р., ср.р.)" },
        { german: "eine", russian: "Неопределенный артикль (жен.р.)" },
        { german: "kein", russian: "Отрицательный артикль (муж.р., ср.р.)" },
        { german: "keine", russian: "Отрицательный артикль (жен.р., мн.ч.)" },
      ],
    },
    {
      id: "a0_basic_adjectives",
      name: "Простые прилагательные",
      fallbackVocabulary: [
        { german: "groß", russian: "Большой" },
        { german: "klein", russian: "Маленький" },
        { german: "gut", russian: "Хороший" },
        { german: "schlecht", russian: "Плохой" },
        { german: "alt", russian: "Старый" },
        { german: "jung", russian: "Молодой" },
        { german: "heiß", russian: "Горячий" },
        { german: "kalt", russian: "Холодный" },
        { german: "langsam", russian: "Медленный" },
        { german: "schnell", russian: "Быстрый" },
        { german: "schön", russian: "Красивый" },
        { german: "schwer", russian: "Тяжелый / Трудный" },
        { german: "leicht", russian: "Легкий (вес) / Легкий (трудность)" },
        { german: "hoch", russian: "Высокий" },
        { german: "niedrig", russian: "Низкий" },
        { german: "neu", russian: "Новый" },
        { german: "offen", russian: "Открытый" },
        { german: "geschlossen", russian: "Закрытый" },
        { german: "freundlich", russian: "Дружелюбный / Приветливый" },
        { german: "nett", russian: "Милый / Приятный" },
      ],
    },
    {
      id: "a0_location_direction",
      name: "Местоположение и направления (простые)",
      fallbackVocabulary: [
        { german: "draußen", russian: "Снаружи / На улице" },
        { german: "drinnen", russian: "Внутри / В помещении" },
        { german: "oben", russian: "Наверху" },
        { german: "unten", russian: "Внизу" },
        { german: "links", russian: "Налево / Слева" },
        { german: "rechts", russian: "Направо / Справа" },
        { german: "geradeaus", russian: "Прямо" },
      ],
    },
    {
      id: "a0_common_places_things",
      name: "Общие места и предметы",
      fallbackVocabulary: [
        { german: "Straße", russian: "Улица" },
        { german: "Weg", russian: "Дорога / Путь" },
        { german: "Platz", russian: "Площадь / Место" },
        { german: "Stadt", russian: "Город" },
        { german: "Land", russian: "Страна / Деревня / Земля" },
        { german: "Schule", russian: "Школа" },
        { german: "Arbeit", russian: "Работа" },
        { german: "Spiel", russian: "Игра" },
      ],
    },
    {
      id: "a0_simple_animals",
      name: "Животные (простые)",
      fallbackVocabulary: [
        { german: "Hund", russian: "Собака" },
        { german: "Katze", russian: "Кошка" },
        { german: "Vogel", russian: "Птица" },
        // Fisch уже есть в еде/напитках, но здесь тоже уместен
        { german: "Fisch", russian: "Рыба" },
      ],
    },
    {
      id: "a0_simple_conjunctions",
      name: "Простые союзы",
      fallbackVocabulary: [
        { german: "und", russian: "И" },
        { german: "oder", russian: "Или" },
        { german: "aber", russian: "Но" },
        { german: "denn", russian: "Так как / Потому что" },
        { german: "wenn", russian: "Когда / Если" },
      ],
    },
    {
      id: "a0_verb_conjugations_basic",
      name: "Спряжения (ich bin, du bist...)",
      fallbackVocabulary: [
        { german: "ich bin", russian: "я есть" },
        { german: "du bist", russian: "ты есть" },
        { german: "er ist", russian: "он есть" },
        { german: "sie ist", russian: "она есть" },
        { german: "es ist", russian: "оно есть" },
        { german: "wir sind", russian: "мы есть" },
        { german: "ihr seid", russian: "вы (мн.ч.) есть" },
        { german: "sie sind", russian: "они есть / Вы (вежл.) есть" },
      ],
    },
  ],
  A1: [
    { id: "a1_personal_data_details", name: "Личные данные", fallbackVocabulary: [] },
    { id: "a1_family_friends_description", name: "Семья и друзья", fallbackVocabulary: [] },
    { id: "a1_home_living_details", name: "Дом и жильё", fallbackVocabulary: [] },
    { id: "a1_food_drinks_order", name: "Еда и напитки", fallbackVocabulary: [] },
    { id: "a1_clothing_shopping_preferences", name: "Одежда и покупки", fallbackVocabulary: [] },
    { id: "a1_city_transport_navigation", name: "Город и транспорт", fallbackVocabulary: [] },
    { id: "a1_time_calendar_daily_routine_schedule", name: "Время и календарь", fallbackVocabulary: [] },
    { id: "a1_weather_seasons_activities", name: "Погода", fallbackVocabulary: [] }
  ],
  A2: [
    { id: "a2_daily_life_routine_planning", name: "Повседневная жизнь", fallbackVocabulary: [] },
    { id: "a2_work_professions_environment", name: "Работа и профессии", fallbackVocabulary: [] },
    { id: "a2_travel_holidays_experiences", name: "Путешествия и отдых", fallbackVocabulary: [] },
    { id: "a2_shopping_services_complaints", name: "Покупки и магазины", fallbackVocabulary: [] },
    { id: "a2_health_body_appointments", name: "Здоровье", fallbackVocabulary: [] },
    { id: "a2_character_emotions_expression", name: "Характер и эмоции", fallbackVocabulary: [] },
    { id: "a2_nature_environment_protection_basic", name: "Природа и окружающая среда", fallbackVocabulary: [] }
  ],
  B1: [
    { id: "b1_education_studies_systems", name: "Образование и учёба", fallbackVocabulary: [] },
    { id: "b1_professions_career_planning_application", name: "Профессии и карьера", fallbackVocabulary: [] },
    { id: "b1_society_interpersonal_relations_issues", name: "Общество и межличностные отношения", fallbackVocabulary: [] },
    { id: "b1_media_technology_internet_impact", name: "Медиа и технологии", fallbackVocabulary: [] },
    { id: "b1_ecology_health_lifestyle_choices", name: "Экология и здоровье", fallbackVocabulary: [] },
    { id: "b1_travel_intercultural_communication_experiences", name: "Путешествия и межкультурная коммуникация", fallbackVocabulary: [] },
    { id: "b1_events_incidents_reporting", name: "События и происшествия", fallbackVocabulary: [] }
  ],
  B2: [
    { id: "b2_politics_economics_global_systems", name: "Политика и экономика", fallbackVocabulary: [] },
    { id: "b2_science_technology_innovations_discussion", name: "Наука и техника", fallbackVocabulary: [] },
    { id: "b2_culture_art_literature_analysis", name: "Культура и искусство", fallbackVocabulary: [] },
    { id: "b2_work_career_advanced_strategies", name: "Работа и карьера", fallbackVocabulary: [] },
    { id: "b2_social_issues_discussion_solutions", name: "Социальные проблемы", fallbackVocabulary: [] }
  ],
  C1: [
    { id: "c1_philosophy_psychology_ethics_concepts", name: "Философия и психология", fallbackVocabulary: [] },
    { id: "c1_political_debates_globalization_analysis", name: "Политические дебаты", fallbackVocabulary: [] },
    { id: "c1_science_global_challenges_ai_implications", name: "Наука и глобальные вызовы", fallbackVocabulary: [] },
    { id: "c1_academic_professional_lexis_discourse", name: "Академическая и профессиональная лексика", fallbackVocabulary: [] }
  ],
  C2: [
    { id: "c2_literary_publicistic_language_nuances", name: "Литературный и публицистический язык", fallbackVocabulary: [] },
    { id: "c2_legal_scientific_style_application", name: "Юридический и научный стиль", fallbackVocabulary: [] },
    { id: "c2_formal_informal_registers_diplomacy_discourse", name: "Формальный и неформальный регистры", fallbackVocabulary: [] },
    { id: "c2_translation_interpretation_cultural_nuances_practice", name: "Перевод и интерпретация", fallbackVocabulary: [] }
  ],
};

// Mandatory Grammar Topics per Level
export const MANDATORY_GRAMMAR_TOPICS: Record<LanguageLevel, string[]> = {
    A0: [
    "Алфавит и фонетика (произношение букв, ударения)",
    "Личные местоимения (ich, du, er, sie, es, wir, ihr, sie, Sie)",
    "Глагол sein в настоящем времени (ich bin, du bist…)",
    "Глагол haben в настоящем времени",
    "Простое повествовательное предложение (SVO)",
    "Простое вопросительное предложение (Ja/Nein-Fragen)",
    "Числа (0–100)",
    "Простые артикли (der, die, das – определённые)",
    "Простая лексика: дни недели, цвета, семья, еда, время"
    ],
    A1: [
    "Существительные и артикли (определённый / неопределённый)",
    "Множественное число существительных",
    "Притяжательные местоимения (mein, dein, sein…)",
    "Указательные местоимения (dieser, diese, dieses)",
    "Вопросительные слова (wer, was, wo, wann, wie, warum…)",
    "Настоящее время (Präsens) слабых и сильных глаголов",
    "Модальные глаголы (können, müssen, wollen, dürfen, sollen, mögen)",
    "Глаголы с отделяемыми приставками (aufstehen, anrufen…)",
    "Порядок слов в утвердительных, вопросительных и отрицательных предложениях",
    "Инверсия (сначала обстоятельство, потом подлежащее)",
    "Отрицание с nicht и kein",
    "Imperativ (повелительное наклонение) — вежливый и неформальный",
    "Время в часах (Uhrzeit)",
    "Именительный (Nominativ)",
    "Винительный (Akkusativ) (Ich sehe den Mann.)",
    "Простые предлоги с Akkusativ (für, durch, ohne, um…)"
    ],
    A2: [
    "Притяжательные местоимения во всех падежах",
    "Вопросительные местоимения в других падежах (Wem? Wen?)",
    "Относительные местоимения (Relativsätze mit der/die/das)",
    "Наречия частотности и времени (oft, selten, manchmal…)",
    "Наречия порядка и места (zuerst, dann, dort…)",
    "Прошедшее время: Perfekt (Ich habe gegessen, Ich bin gegangen…)",
    "Слово порядок при использовании Perfekt",
    "Präteritum некоторых глаголов (sein, haben, modal verbs)",
    "Начало освоения пассивного залога в Perfekt (wird… gemacht)",
    "Дательный падеж (Dativ)",
    "Предлоги с Dativ (mit, nach, seit, bei, von, zu…)",
    "Предлоги с Akkusativ und Dativ (an, auf, in, über…)",
    "Временные конструкции (seit, vor, in, bis)"
    ],
    B1: [
    "Относительные предложения с разными падежами",
    "Условные предложения типа I (Wenn-Sätze Typ 1)",
    "Конъюнкции: weil, obwohl, wenn, dass, damit, während",
    "Союзы и порядок слов",
    "Причастия I и II в качестве прилагательных",
    "Präteritum регулярно и часто употребляемых глаголов",
    "Различие между Präteritum и Perfekt",
    "Пассивный залог в Präsens, Präteritum и Perfekt",
    "Futur I (ich werde arbeiten)",
    "Начало Futur II (ich werde gearbeitet haben)",
    "Специальные конструкции: Es gibt / es gab",
    "Indirekte Rede mit Konjunktiv I (начало)",
    "Verben mit Präpositionen (sich freuen auf/über, warten auf)"
    ],
    B2: [
    "Konjunktiv I в косвенной речи",
    "Konjunktiv II: нереальные условные предложения (würde + Infinitiv)",
    "Konjunktiv II с Präteritum сильных глаголов (hätte, wäre, könnte, müsste)",
    "Futur II",
    "Страдательный залог (Passiv) во всех временах, в том числе с модальными глаголами",
    "Zustandspassiv (sein + Partizip II)",
    "Vorgangspassiv (werden + Partizip II)",
    "Условные предложения всех типов (Typ 1–3)",
    "Употребление инфинитивных конструкций с zu",
    "Номинализация (der Besuch → besuchen, das Lesen → lesen)",
    "Префиксы и суффиксы образования слов",
    "Сложносочинённые и сложноподчинённые предложения с Nebensätzen",
    "Рекурсия придаточных предложений"
    ],
    C1: [
    "Продвинутое использование Konjunktiv I и II",
    "Высокая частота Passiv и Umschreibungen",
    "Различия в значении при смене порядка слов",
    "Stilistische Unterschiede: Umgangssprache vs. Schriftsprache",
    "Erweiterter Infinitiv mit zu (um zu…, ohne zu…, anstatt zu…)",
    "Partizipialkonstruktionen (z.B. Von der Polizei verfolgt, rannte er weg…)",
    "Сложные причастные обороты",
    "Nominalstil vs. Verbalstil (научный стиль)",
    "Разнообразные способы выражения причины, цели, следствия"
    ],
    C2: [
    "Метафорические и идиоматические обороты",
    "Структуры высокого уровня сложности:",
    "Инверсия ради акцента: Kaum hatte er das Haus verlassen, da…",
    "Eliptische формы (пропуски глаголов/подлежащих)",
    "Dialektные и региональные формы (опционально)",
    "Структуры со сложными глаголами и вводными конструкциями",
    "Стилистические оттенки Konjunktiv I в официальных документах",
    "Академическая лексика и синтаксис",
    "Юридические и научные формулировки",
    "Перевод и переформулировка сложных идей",
    "Все времена и залоги, включая сложные и редкие формы (например, Zustandspassiv)",
    "Все формы и случаи употребления Konjunktiv I и II, включая Ersatzformen",
    "Сложные синтаксические конструкции, периоды",
    "Употребление модальных частиц для выражения оттенков значения (doch, ja, eben, halt, wohl и т.д.)",
    "Стилистически окрашенная лексика и грамматика",
    "Особенности научного и делового стиля",
    "Фразеология и идиоматика на продвинутом уровне",
    "Различия между письменной и устной речью на высоком уровне",
    "Тонкости словообразования (суффиксы, префиксы, сложные слова)",
    "Сложные случаи предложного управления и рекций глаголов"
    ],
};

    

